{% extends "base.html" %}

{% block titulo %} Listagem de veículos {% endblock %}

{% block conteudo %}
<style>
body {
	background: #fff;
	color: #222;
	font-family: 'Segoe UI', Arial, sans-serif;
}
.container h2 {
	color: #1976d2;
	font-weight: 700;
	letter-spacing: 1px;
}
.badge.bg-primary {
	background: #1565c0 !important;
	color: #fff !important;
	box-shadow: 0 2px 8px rgba(21,101,192,0.08);
}
.card {
	background: #fff;
	border: 1px solid #e3e6f0;
	border-radius: 1rem;
	box-shadow: 0 2px 12px 0 rgba(21,101,192,0.07);
	transition: transform 0.15s, box-shadow 0.15s;
}
.card:hover {
	transform: translateY(-4px) scale(1.02);
	box-shadow: 0 6px 24px 0 rgba(21,101,192,0.13);
	border-color: #90caf9;
}
.card-title {
	color: #1976d2;
	font-weight: 600;
}
.card-subtitle {
	color: #1976d2;
}
.card-text {
	color: #333;
}
.btn-editar {
	background: #1976d2;
	border: none;
	color: #fff;
	font-weight: 500;
	transition: background 0.2s;
}
.btn-editar:hover {
	background: #1565c0;
	color: #fff;
}
.btn-apagar {
	background: #d32f2f;
	border: none;
	color: #fff;
	font-weight: 500;
	transition: background 0.2s;
}
.btn-apagar:hover {
	background: #b71c1c;
	color: #fff;
}
.alert-info {
	background: #e3f2fd;
	color: #1976d2;
	border: none;
}
</style>
<div class="container mt-4">
	<div class="d-flex justify-content-between align-items-center mb-4">
		<h2>Veículos cadastrados</h2>
		<span class="badge bg-primary fs-5">{{ lista_veiculos|length }} veículos</span>
	</div>
	<form method="get" class="mb-4">
		<div class="input-group">
			<input type="text" name="busca" class="form-control" placeholder="Buscar por marca, modelo ou ano" value="{{ request.GET.busca }}">
			<button class="btn btn-primary" type="submit"><i class="fa fa-search"></i> Buscar</button>
		</div>
	</form>
	<div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
		{% for veiculo in lista_veiculos %}
		<div class="col">
			<div class="card h-100 shadow-sm">
				{% if veiculo.foto %}
					<img src="{{ veiculo.foto.url }}" class="card-img-top" alt="Foto do veículo" style="object-fit:cover; height:180px;">
				{% else %}
					<div class="d-flex align-items-center justify-content-center bg-light text-secondary card-img-top" style="height:180px; font-size:1.1rem;">Veículo sem foto</div>
				{% endif %}
				<div class="card-body">
					<h5 class="card-title">{{ veiculo.get_marca_display }} {{ veiculo.modelo }}</h5>
					<h6 class="card-subtitle mb-2 text-muted">Ano: {{ veiculo.ano }}</h6>
					<p class="card-text mb-1"><strong>Cor:</strong> {{ veiculo.get_cor_display }}</p>
					<p class="card-text mb-3"><strong>Combustível:</strong> {{ veiculo.get_combustivel_display }}</p>
					<div class="d-flex justify-content-end gap-2">
						<a class="btn btn-sm btn-warning">
							<i class="fa fa-edit"></i> Editar
						</a>
						<a class="btn btn-sm btn-danger" onclick="return confirm('Tem certeza que deseja apagar este veículo?');">
							<i class="fa fa-trash"></i> Apagar
						</a>
					</div>
				</div>
			</div>
		</div>
		{% empty %}
		<div class="col-12">
			<div class="alert alert-info text-center">Nenhum veículo cadastrado.</div>
		</div>
		{% endfor %}
	</div>
</div>
{% endblock %}
